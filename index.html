<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@plust/datasleuth - v0.2.0</title><meta name="description" content="Documentation for @plust/datasleuth"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@plust/datasleuth - v0.2.0</a><div id="tsd-toolbar-links"><a href="https://github.com/Jacques2Marais/datasleuth">GitHub</a><a href="https://www.npmjs.com/package/@plust/datasleuth">npm</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@plust/datasleuth - v0.2.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="plustdatasleuth" class="tsd-anchor-link">@plust/datasleuth<a href="#plustdatasleuth" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Build LLM-powered research pipelines and output structured data.</p>
<p>DataSleuth is a modular AI-powered research engine that transforms natural
language queries into structured, validated data. It orchestrates information
gathering, fact checking, analysis, and synthesis using customizable pipelines
and LLM integration to deliver research results in your specified format.</p>
<p><img src="https://img.shields.io/npm/v/@plust/datasleuth" alt="npm version">
<img src="https://img.shields.io/npm/l/@plust/datasleuth" alt="license">
<img src="https://img.shields.io/badge/TypeScript-5.8-blue" alt="TypeScript"></p>
<h2 id="table-of-contents" class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#key-features">Key Features</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#usage-examples">Usage Examples</a>
<ul>
<li><a href="#basic-research">Basic Research</a></li>
<li><a href="#advanced-research">Advanced Research</a></li>
<li><a href="#llm-integration-with-vercel-ai-sdk">LLM Integration</a></li>
<li><a href="#parallel-research">Parallel Research</a></li>
<li><a href="#agent-orchestration">Agent Orchestration</a></li>
</ul>
</li>
<li><a href="#api-reference">API Reference</a>
<ul>
<li><a href="#core-functions">Core Functions</a></li>
<li><a href="#pipeline-steps">Pipeline Steps</a></li>
<li><a href="#utilities">Utilities</a></li>
</ul>
</li>
<li><a href="#error-handling">Error Handling</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@plust/datasleuth</span>
</code><button type="button">Copy</button></pre>

<h2 id="key-features" class="tsd-anchor-link">Key Features<a href="#key-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Comprehensive Research</strong>: Go beyond simple searches with intelligent
research pipelines</li>
<li><strong>AI-Powered Planning</strong>: Automatically generate research plans and strategies</li>
<li><strong>Web Integration</strong>: Connect to search engines and content sources</li>
<li><strong>Deep Analysis</strong>: Extract and analyze information with AI</li>
<li><strong>Adaptive Research</strong>: Refine queries and follow leads with feedback loops</li>
<li><strong>Structured Results</strong>: Get consistently formatted data with schema validation</li>
<li><strong>Extensible Architecture</strong>: Build custom research steps and tools</li>
<li><strong>Multiple LLM Support</strong>: Integrate with any AI provider through Vercel AI SDK</li>
<li><strong>Parallel Processing</strong>: Run multiple research tracks concurrently</li>
<li><strong>Fact Checking</strong>: Validate findings with AI-powered verification</li>
<li><strong>Entity Analysis</strong>: Classify and cluster entities in research data</li>
</ul>
<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">research</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/datasleuth&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">openai</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ai-sdk/openai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Define the structure of your research results</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">outputSchema</span><span class="hl-1"> = </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">summary:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">keyFindings:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">()),</span><br/><span class="hl-1">  </span><span class="hl-4">sources:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">url</span><span class="hl-1">()),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Execute research</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Latest advancements in quantum computing&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">outputSchema</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">defaultLLM:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">results</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage-examples" class="tsd-anchor-link">Usage Examples<a href="#usage-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="basic-research" class="tsd-anchor-link">Basic Research<a href="#basic-research" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The simplest way to use @plust/datasleuth is with the default pipeline:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">research</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/datasleuth&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">openai</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ai-sdk/openai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Define your output schema</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">outputSchema</span><span class="hl-1"> = </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">summary:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">keyFindings:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">()),</span><br/><span class="hl-1">  </span><span class="hl-4">sources:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">url</span><span class="hl-1">()),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Execute research with default pipeline</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Latest advancements in quantum computing&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">outputSchema</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">defaultLLM:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="advanced-research" class="tsd-anchor-link">Advanced Research<a href="#advanced-research" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For more control, configure a custom pipeline with specific steps:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">research</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">plan</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">searchWeb</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">extractContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">evaluate</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">repeatUntil</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/datasleuth&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">google</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/search-sdk&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">openai</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ai-sdk/openai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Configure a search provider</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">googleSearch</span><span class="hl-1"> = </span><span class="hl-4">google</span><span class="hl-1">.</span><span class="hl-0">configure</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">apiKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">GOOGLE_API_KEY</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">cx:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">GOOGLE_CX</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Define complex output schema</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">outputSchema</span><span class="hl-1"> = </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">summary:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">threats:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">()),</span><br/><span class="hl-1">  </span><span class="hl-4">opportunities:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">()),</span><br/><span class="hl-1">  </span><span class="hl-4">timeline:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">year:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">event:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  ),</span><br/><span class="hl-1">  </span><span class="hl-4">sources:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">url:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">url</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">reliability:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">().</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">).</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">),</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  ),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Execute research with custom pipeline steps</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Impact of climate change on agriculture&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">outputSchema</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">steps:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">plan</span><span class="hl-1">({ </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">) }),</span><br/><span class="hl-1">    </span><span class="hl-0">searchWeb</span><span class="hl-1">({ </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-4">googleSearch</span><span class="hl-1">, </span><span class="hl-4">maxResults:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1"> }),</span><br/><span class="hl-1">    </span><span class="hl-0">extractContent</span><span class="hl-1">({ </span><span class="hl-4">selector:</span><span class="hl-1"> </span><span class="hl-2">&#39;article, .content, main&#39;</span><span class="hl-1"> }),</span><br/><span class="hl-1">    </span><span class="hl-0">repeatUntil</span><span class="hl-1">(</span><span class="hl-0">evaluate</span><span class="hl-1">({ </span><span class="hl-0">criteriaFn</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">sources</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> &gt; </span><span class="hl-8">15</span><span class="hl-1"> }), [</span><br/><span class="hl-1">      </span><span class="hl-0">searchWeb</span><span class="hl-1">({ </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-4">googleSearch</span><span class="hl-1"> }),</span><br/><span class="hl-1">      </span><span class="hl-0">extractContent</span><span class="hl-1">(),</span><br/><span class="hl-1">    ]),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">errorHandling:</span><span class="hl-1"> </span><span class="hl-2">&#39;continue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">timeout:</span><span class="hl-1"> </span><span class="hl-8">60000</span><span class="hl-1">, </span><span class="hl-5">// 1 minute</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="llm-integration-with-vercel-ai-sdk" class="tsd-anchor-link">LLM Integration with Vercel AI SDK<a href="#llm-integration-with-vercel-ai-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>@plust/datasleuth seamlessly integrates with the Vercel AI SDK, allowing you to
use any supported LLM provider:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">research</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">plan</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">analyze</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">factCheck</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">summarize</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/datasleuth&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">openai</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ai-sdk/openai&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">anthropic</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ai-sdk/anthropic&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Define your output schema</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">outputSchema</span><span class="hl-1"> = </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">summary:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">analysis:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">insights:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">()),</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-4">factChecks:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">statement:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">isValid:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">boolean</span><span class="hl-1">(),</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  ),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Use different LLM providers for different steps</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Advancements in gene editing technologies&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">outputSchema</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">steps:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-5">// Use OpenAI for research planning</span><br/><span class="hl-1">    </span><span class="hl-0">plan</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">temperature:</span><span class="hl-1"> </span><span class="hl-8">0.4</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// Use Anthropic for specialized analysis</span><br/><span class="hl-1">    </span><span class="hl-0">analyze</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">anthropic</span><span class="hl-1">(</span><span class="hl-2">&#39;claude-3-opus-20240229&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">focus:</span><span class="hl-1"> </span><span class="hl-2">&#39;ethical-considerations&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">depth:</span><span class="hl-1"> </span><span class="hl-2">&#39;comprehensive&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// Use OpenAI for fact checking</span><br/><span class="hl-1">    </span><span class="hl-0">factCheck</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">threshold:</span><span class="hl-1"> </span><span class="hl-8">0.8</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">includeEvidence:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// Use Anthropic for final summarization</span><br/><span class="hl-1">    </span><span class="hl-0">summarize</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">anthropic</span><span class="hl-1">(</span><span class="hl-2">&#39;claude-3-sonnet-20240229&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">format:</span><span class="hl-1"> </span><span class="hl-2">&#39;structured&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">maxLength:</span><span class="hl-1"> </span><span class="hl-8">2000</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="parallel-research" class="tsd-anchor-link">Parallel Research<a href="#parallel-research" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Run multiple research tracks concurrently and merge the results:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">research</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">track</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parallel</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">searchWeb</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">extractContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">analyze</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ResultMerger</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/datasleuth&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">google</span><span class="hl-1">, </span><span class="hl-4">bing</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/search-sdk&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">openai</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ai-sdk/openai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Configure search providers</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">googleSearch</span><span class="hl-1"> = </span><span class="hl-4">google</span><span class="hl-1">.</span><span class="hl-0">configure</span><span class="hl-1">({ </span><span class="hl-4">apiKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">GOOGLE_API_KEY</span><span class="hl-1"> });</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">bingSearch</span><span class="hl-1"> = </span><span class="hl-4">bing</span><span class="hl-1">.</span><span class="hl-0">configure</span><span class="hl-1">({ </span><span class="hl-4">apiKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">BING_API_KEY</span><span class="hl-1"> });</span><br/><br/><span class="hl-5">// Define your output schema</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">outputSchema</span><span class="hl-1"> = </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">summary:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">findings:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">topic:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">details:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">confidence:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">(),</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  ),</span><br/><span class="hl-1">  </span><span class="hl-4">sources:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">url</span><span class="hl-1">()),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Execute parallel research tracks</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Quantum computing applications in healthcare&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">outputSchema</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">steps:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">parallel</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">tracks:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-0">track</span><span class="hl-1">({</span><br/><span class="hl-1">          </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;academic&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">steps:</span><span class="hl-1"> [</span><br/><span class="hl-1">            </span><span class="hl-0">searchWeb</span><span class="hl-1">({</span><br/><span class="hl-1">              </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-4">googleSearch</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;quantum computing healthcare scholarly articles&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">            </span><span class="hl-0">extractContent</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-0">analyze</span><span class="hl-1">({</span><br/><span class="hl-1">              </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">              </span><span class="hl-4">focus:</span><span class="hl-1"> </span><span class="hl-2">&#39;academic-research&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">          ],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">        </span><span class="hl-0">track</span><span class="hl-1">({</span><br/><span class="hl-1">          </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;commercial&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">steps:</span><span class="hl-1"> [</span><br/><span class="hl-1">            </span><span class="hl-0">searchWeb</span><span class="hl-1">({</span><br/><span class="hl-1">              </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-4">bingSearch</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;quantum computing healthcare startups companies&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">            </span><span class="hl-0">extractContent</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-0">analyze</span><span class="hl-1">({</span><br/><span class="hl-1">              </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">              </span><span class="hl-4">focus:</span><span class="hl-1"> </span><span class="hl-2">&#39;commercial-applications&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">          ],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">      </span><span class="hl-4">mergeFunction:</span><span class="hl-1"> </span><span class="hl-4">ResultMerger</span><span class="hl-1">.</span><span class="hl-0">createMergeFunction</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;weighted&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">weights:</span><span class="hl-1"> { </span><span class="hl-4">academic:</span><span class="hl-1"> </span><span class="hl-8">1.5</span><span class="hl-1">, </span><span class="hl-4">commercial:</span><span class="hl-1"> </span><span class="hl-8">1.0</span><span class="hl-1"> },</span><br/><span class="hl-1">        </span><span class="hl-4">conflictResolution:</span><span class="hl-1"> </span><span class="hl-2">&#39;mostConfident&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">summarize</span><span class="hl-1">({ </span><span class="hl-4">maxLength:</span><span class="hl-1"> </span><span class="hl-8">1000</span><span class="hl-1"> }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="agent-orchestration" class="tsd-anchor-link">Agent Orchestration<a href="#agent-orchestration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Use AI agents to dynamically decide which research steps to execute:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">research</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">orchestrate</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">searchWeb</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">extractContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">analyze</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">transform</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/datasleuth&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">google</span><span class="hl-1">, </span><span class="hl-4">serpapi</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/search-sdk&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">openai</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ai-sdk/openai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Configure search providers</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">webSearch</span><span class="hl-1"> = </span><span class="hl-4">google</span><span class="hl-1">.</span><span class="hl-0">configure</span><span class="hl-1">({ </span><span class="hl-4">apiKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">GOOGLE_API_KEY</span><span class="hl-1"> });</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">academicSearch</span><span class="hl-1"> = </span><span class="hl-4">serpapi</span><span class="hl-1">.</span><span class="hl-0">configure</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">apiKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">SERPAPI_KEY</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">engine:</span><span class="hl-1"> </span><span class="hl-2">&#39;google_scholar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Execute research with orchestration</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Emerging technologies in renewable energy storage&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">outputSchema:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">marketOverview:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">technologies:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-4">maturityLevel:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">enum</span><span class="hl-1">([</span><span class="hl-2">&#39;research&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;emerging&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;growth&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;mature&#39;</span><span class="hl-1">]),</span><br/><span class="hl-1">        </span><span class="hl-4">costEfficiency:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">().</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">).</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-8">10</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-4">scalabilityPotential:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">().</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">).</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-8">10</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-4">keyPlayers:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">()),</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ),</span><br/><span class="hl-1">    </span><span class="hl-4">forecast:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">shortTerm:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">mediumTerm:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">longTerm:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-4">sources:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">array</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">url:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">().</span><span class="hl-0">url</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">enum</span><span class="hl-1">([</span><span class="hl-2">&#39;academic&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;news&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;company&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;government&#39;</span><span class="hl-1">]),</span><br/><span class="hl-1">        </span><span class="hl-4">relevance:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">().</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">).</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">),</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ),</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-4">steps:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">orchestrate</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-0">openai</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">tools:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">searchWeb:</span><span class="hl-1"> </span><span class="hl-0">searchWeb</span><span class="hl-1">({ </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-4">webSearch</span><span class="hl-1"> }),</span><br/><span class="hl-1">        </span><span class="hl-4">searchAcademic:</span><span class="hl-1"> </span><span class="hl-0">searchWeb</span><span class="hl-1">({ </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-4">academicSearch</span><span class="hl-1"> }),</span><br/><span class="hl-1">        </span><span class="hl-4">extractContent:</span><span class="hl-1"> </span><span class="hl-0">extractContent</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-4">analyze:</span><span class="hl-1"> </span><span class="hl-0">analyze</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-5">// Add your custom tools here</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">customPrompt:</span><span class="hl-1"> </span><span class="hl-2">`</span><br/><span class="hl-2">        You are conducting market research on emerging renewable energy storage technologies.</span><br/><span class="hl-2">        Your goal is to build a comprehensive market overview with technical assessment.</span><br/><span class="hl-2">      `</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">maxIterations:</span><span class="hl-1"> </span><span class="hl-8">15</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">exitCriteria</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">state</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><br/><span class="hl-1">        </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">metadata</span><span class="hl-1">.</span><span class="hl-4">confidenceScore</span><span class="hl-1"> &gt; </span><span class="hl-8">0.85</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">        </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">dataPoints</span><span class="hl-1">?.</span><span class="hl-4">length</span><span class="hl-1"> &gt; </span><span class="hl-8">20</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="api-reference" class="tsd-anchor-link">API Reference<a href="#api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For complete API documentation, see the
<a href="media/index.html">API Documentation</a>.</p>
<h3 id="core-functions" class="tsd-anchor-link">Core Functions<a href="#core-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="researchoptions" class="tsd-anchor-link"><code>research(options)</code><a href="#researchoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The main research function that serves as the primary API.</p>
<pre><code class="typescript"><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;                </span><span class="hl-5">// The research query</span><br/><span class="hl-1">  </span><span class="hl-4">outputSchema</span><span class="hl-1">: </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-4">ZodType</span><span class="hl-1">&lt;</span><span class="hl-4">any</span><span class="hl-1">&gt;; </span><span class="hl-5">// Schema defining the output structure</span><br/><span class="hl-1">  </span><span class="hl-4">steps</span><span class="hl-1">?: </span><span class="hl-4">ResearchStep</span><span class="hl-1">[];       </span><span class="hl-5">// Optional custom pipeline steps</span><br/><span class="hl-1">  </span><span class="hl-4">defaultLLM</span><span class="hl-1">?: </span><span class="hl-4">LanguageModel</span><span class="hl-1">;   </span><span class="hl-5">// Default LLM provider for AI-dependent steps</span><br/><span class="hl-1">  </span><span class="hl-4">config</span><span class="hl-1">?: </span><span class="hl-4">Partial</span><span class="hl-1">&lt;</span><span class="hl-4">PipelineConfig</span><span class="hl-1">&gt;; </span><span class="hl-5">// Optional configuration</span><br/><span class="hl-1">}): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">unknown</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="pipeline-steps" class="tsd-anchor-link">Pipeline Steps<a href="#pipeline-steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="planoptions" class="tsd-anchor-link"><code>plan(options?)</code><a href="#planoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Creates a research plan using LLMs.</p>
<pre><code class="typescript"><span class="hl-0">plan</span><span class="hl-1">({</span><br/><span class="hl-1">  llm?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">LanguageModel</span><span class="hl-1">;        </span><span class="hl-5">// LLM model to use (falls back to defaultLLM)</span><br/><span class="hl-1">  </span><span class="hl-4">customPrompt</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;      </span><span class="hl-5">// Custom system prompt</span><br/><span class="hl-1">  </span><span class="hl-4">temperature</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;       </span><span class="hl-5">// LLM temperature (0.0-1.0)</span><br/><span class="hl-1">  </span><span class="hl-4">includeInResults</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Whether to include plan in results</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="searchweboptions" class="tsd-anchor-link"><code>searchWeb(options)</code><a href="#searchweboptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Searches the web using configured search providers.</p>
<pre><code class="typescript"><span class="hl-0">searchWeb</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-4">SearchProvider</span><span class="hl-1">;   </span><span class="hl-5">// Configured search provider</span><br/><span class="hl-1">  </span><span class="hl-4">maxResults</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;        </span><span class="hl-5">// Maximum results to return</span><br/><span class="hl-1">  </span><span class="hl-4">language</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;          </span><span class="hl-5">// Language code (e.g., &#39;en&#39;)</span><br/><span class="hl-1">  </span><span class="hl-4">region</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;            </span><span class="hl-5">// Region code (e.g., &#39;US&#39;)</span><br/><span class="hl-1">  </span><span class="hl-4">safeSearch</span><span class="hl-1">?: </span><span class="hl-2">&#39;off&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;moderate&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;strict&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">useQueriesFromPlan</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Use queries from research plan</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="extractcontentoptions" class="tsd-anchor-link"><code>extractContent(options?)</code><a href="#extractcontentoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Extracts content from web pages.</p>
<pre><code class="typescript"><span class="hl-0">extractContent</span><span class="hl-1">({</span><br/><span class="hl-1">  selectors?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;         </span><span class="hl-5">// CSS selectors for content</span><br/><span class="hl-1">  </span><span class="hl-4">maxUrls</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;           </span><span class="hl-5">// Maximum URLs to process</span><br/><span class="hl-1">  </span><span class="hl-4">maxContentLength</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;  </span><span class="hl-5">// Maximum content length per URL</span><br/><span class="hl-1">  </span><span class="hl-4">includeInResults</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Whether to include content in results</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="factcheckoptions" class="tsd-anchor-link"><code>factCheck(options?)</code><a href="#factcheckoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Validates information using AI.</p>
<pre><code class="typescript"><span class="hl-0">factCheck</span><span class="hl-1">({</span><br/><span class="hl-1">  llm?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">LanguageModel</span><span class="hl-1">;        </span><span class="hl-5">// LLM model to use</span><br/><span class="hl-1">  </span><span class="hl-4">threshold</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;         </span><span class="hl-5">// Confidence threshold (0.0-1.0)</span><br/><span class="hl-1">  </span><span class="hl-4">includeEvidence</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">;  </span><span class="hl-5">// Include evidence in results</span><br/><span class="hl-1">  </span><span class="hl-4">detailedAnalysis</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Perform detailed analysis</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="analyzeoptions" class="tsd-anchor-link"><code>analyze(options?)</code><a href="#analyzeoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Performs specialized analysis on collected data.</p>
<pre><code class="typescript"><span class="hl-0">analyze</span><span class="hl-1">({</span><br/><span class="hl-1">  llm?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">LanguageModel</span><span class="hl-1">;        </span><span class="hl-5">// LLM model to use</span><br/><span class="hl-1">  </span><span class="hl-4">focus</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;             </span><span class="hl-5">// Analysis focus (&#39;technical&#39;, &#39;business&#39;, etc.)</span><br/><span class="hl-1">  </span><span class="hl-4">depth</span><span class="hl-1">?: </span><span class="hl-2">&#39;basic&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;comprehensive&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;expert&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">includeInResults</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Whether to include analysis in results</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="summarizeoptions" class="tsd-anchor-link"><code>summarize(options?)</code><a href="#summarizeoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Synthesizes information into concise summaries.</p>
<pre><code class="typescript"><span class="hl-0">summarize</span><span class="hl-1">({</span><br/><span class="hl-1">  llm?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">LanguageModel</span><span class="hl-1">;        </span><span class="hl-5">// LLM model to use</span><br/><span class="hl-1">  </span><span class="hl-4">maxLength</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;         </span><span class="hl-5">// Maximum summary length</span><br/><span class="hl-1">  </span><span class="hl-4">format</span><span class="hl-1">?: </span><span class="hl-2">&#39;paragraph&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;bullet&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;structured&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">includeInResults</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Whether to include summary in results</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="evaluateoptions" class="tsd-anchor-link"><code>evaluate(options)</code><a href="#evaluateoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Evaluates current state against specified criteria.</p>
<pre><code class="typescript"><span class="hl-0">evaluate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">criteriaFn</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">state</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">boolean</span><span class="hl-1"> | </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">boolean</span><span class="hl-1">&gt;; </span><span class="hl-5">// Evaluation function</span><br/><span class="hl-1">  </span><span class="hl-4">criteriaName</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;      </span><span class="hl-5">// Name for this evaluation</span><br/><span class="hl-1">  </span><span class="hl-4">confidenceThreshold</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">; </span><span class="hl-5">// Confidence threshold (0.0-1.0)</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="repeatuntilconditionstep-stepstorepeat-options" class="tsd-anchor-link"><code>repeatUntil(conditionStep, stepsToRepeat, options?)</code><a href="#repeatuntilconditionstep-stepstorepeat-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Repeats steps until a condition is met.</p>
<pre><code class="typescript"><span class="hl-0">repeatUntil</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">conditionStep</span><span class="hl-1">: </span><span class="hl-4">ResearchStep</span><span class="hl-1">,  </span><span class="hl-5">// Step that evaluates condition</span><br/><span class="hl-1">  </span><span class="hl-4">stepsToRepeat</span><span class="hl-1">: </span><span class="hl-4">ResearchStep</span><span class="hl-1">[], </span><span class="hl-5">// Steps to repeat</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    maxIterations?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">number</span><span class="hl-1">;     </span><span class="hl-5">// Maximum iterations</span><br/><span class="hl-1">    </span><span class="hl-4">throwOnMaxIterations</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Throw error on max iterations</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="paralleloptions" class="tsd-anchor-link"><code>parallel(options)</code><a href="#paralleloptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Executes multiple research tracks concurrently.</p>
<pre><code class="typescript"><span class="hl-0">parallel</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">tracks:</span><span class="hl-1"> </span><span class="hl-4">TrackOptions</span><span class="hl-1">[];      </span><span class="hl-5">// Array of research tracks</span><br/><span class="hl-1">  </span><span class="hl-4">mergeFunction</span><span class="hl-1">?: </span><span class="hl-4">MergeFunction</span><span class="hl-1">; </span><span class="hl-5">// Function to merge results</span><br/><span class="hl-1">  </span><span class="hl-4">continueOnTrackError</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Continue if a track fails</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="trackoptions" class="tsd-anchor-link"><code>track(options)</code><a href="#trackoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Creates an isolated research track.</p>
<pre><code class="typescript"><span class="hl-0">track</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;               </span><span class="hl-5">// Track name</span><br/><span class="hl-1">  </span><span class="hl-4">steps</span><span class="hl-1">: </span><span class="hl-4">ResearchStep</span><span class="hl-1">[];      </span><span class="hl-5">// Steps to execute in this track</span><br/><span class="hl-1">  </span><span class="hl-4">initialData</span><span class="hl-1">?: </span><span class="hl-4">any</span><span class="hl-1">;          </span><span class="hl-5">// Initial data for this track</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="orchestrateoptions" class="tsd-anchor-link"><code>orchestrate(options)</code><a href="#orchestrateoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Uses AI agents to make dynamic decisions about research steps.</p>
<pre><code class="typescript"><span class="hl-0">orchestrate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">llm:</span><span class="hl-1"> </span><span class="hl-4">LanguageModel</span><span class="hl-1">;         </span><span class="hl-5">// LLM model for orchestration</span><br/><span class="hl-1">  </span><span class="hl-4">tools</span><span class="hl-1">: </span><span class="hl-4">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, ResearchStep&gt;; </span><span class="hl-5">// Available tools for agent</span><br/><span class="hl-1">  customPrompt?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;      </span><span class="hl-5">// Custom orchestration prompt</span><br/><span class="hl-1">  </span><span class="hl-4">maxIterations</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;     </span><span class="hl-5">// Maximum iterations</span><br/><span class="hl-1">  </span><span class="hl-4">exitCriteria</span><span class="hl-1">?: (</span><span class="hl-4">state</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">boolean</span><span class="hl-1"> | </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">boolean</span><span class="hl-1">&gt;; </span><span class="hl-5">// Exit condition</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h4 id="transformoptions" class="tsd-anchor-link"><code>transform(options?)</code><a href="#transformoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Ensures research output matches the expected schema structure.</p>
<pre><code class="typescript"><span class="hl-0">transform</span><span class="hl-1">({</span><br/><span class="hl-1">  llm?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">LanguageModel</span><span class="hl-1">;           </span><span class="hl-5">// LLM model to use (falls back to defaultLLM)</span><br/><span class="hl-1">  </span><span class="hl-4">allowMissingWithDefaults</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Auto-fix missing fields with defaults</span><br/><span class="hl-1">  </span><span class="hl-4">useLLM</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">;              </span><span class="hl-5">// Use LLM for intelligent transformation</span><br/><span class="hl-1">  </span><span class="hl-4">temperature</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;          </span><span class="hl-5">// LLM temperature (0.0-1.0)</span><br/><span class="hl-1">  </span><span class="hl-4">systemPrompt</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;         </span><span class="hl-5">// Custom system prompt</span><br/><span class="hl-1">  </span><span class="hl-4">transformFn</span><span class="hl-1">?: (</span><span class="hl-4">state</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">any</span><span class="hl-1">;  </span><span class="hl-5">// Custom transformation function</span><br/><span class="hl-1">}): </span><span class="hl-4">ResearchStep</span>
</code><button type="button">Copy</button></pre>

<h3 id="utilities" class="tsd-anchor-link">Utilities<a href="#utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="resultmerger" class="tsd-anchor-link"><code>ResultMerger</code><a href="#resultmerger" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Utilities for merging results from parallel research tracks.</p>
<pre><code class="typescript"><span class="hl-4">ResultMerger</span><span class="hl-1">.</span><span class="hl-0">createMergeFunction</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;mostConfident&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;first&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;last&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;majority&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;weighted&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;custom&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">weights</span><span class="hl-1">?: </span><span class="hl-4">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, number&gt;; </span><span class="hl-5">// For weighted strategy</span><br/><span class="hl-1">  customMergeFn?</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">results</span><span class="hl-1">: </span><span class="hl-9">any</span><span class="hl-1">[]) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">any</span><span class="hl-1">; </span><span class="hl-5">// For custom strategy</span><br/><span class="hl-1">  </span><span class="hl-4">conflictResolution</span><span class="hl-1">?: </span><span class="hl-2">&#39;mostConfident&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;first&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;last&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;average&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>@plust/datasleuth provides detailed error types for different failure scenarios:</p>
<ul>
<li><code>ConfigurationError</code>: Invalid configuration (missing required parameters,
etc.)</li>
<li><code>ValidationError</code>: Output doesn't match the provided schema</li>
<li><code>LLMError</code>: Error communicating with language model</li>
<li><code>SearchError</code>: Error executing web searches</li>
<li><code>ContentExtractionError</code>: Error extracting content from web pages</li>
<li><code>TimeoutError</code>: Operation exceeded the configured timeout</li>
<li><code>PipelineError</code>: Error in pipeline execution</li>
</ul>
<p>Each error includes:</p>
<ul>
<li>Descriptive message</li>
<li>Detailed error information</li>
<li>Suggestions for resolving the issue</li>
</ul>
<p>Example handling errors:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">research</span><span class="hl-1">, </span><span class="hl-4">BaseResearchError</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@plust/datasleuth&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">z</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">research</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Quantum computing applications&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">outputSchema:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">/*...*/</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">} </span><span class="hl-3">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1"> </span><span class="hl-6">instanceof</span><span class="hl-1"> </span><span class="hl-9">BaseResearchError</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`Research error: </span><span class="hl-6">${</span><span class="hl-4">error</span><span class="hl-10">.</span><span class="hl-4">message</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`Details: </span><span class="hl-6">${</span><span class="hl-7">JSON</span><span class="hl-10">.</span><span class="hl-0">stringify</span><span class="hl-10">(</span><span class="hl-4">error</span><span class="hl-10">.</span><span class="hl-4">details</span><span class="hl-10">)</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`Suggestions: </span><span class="hl-6">${</span><span class="hl-4">error</span><span class="hl-10">.</span><span class="hl-4">suggestions</span><span class="hl-10">.</span><span class="hl-0">join</span><span class="hl-10">(</span><span class="hl-2">&#39;</span><span class="hl-11">\n</span><span class="hl-2">&#39;</span><span class="hl-10">)</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-3">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`Unexpected error: </span><span class="hl-6">${</span><span class="hl-4">error</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For detailed troubleshooting information, see the
<a href="media/troubleshooting.md">Troubleshooting Guide</a>.</p>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Contributions are welcome! See <a href="media/CONTRIBUTING.md">CONTRIBUTING.md</a> for details on
how to contribute.</p>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#plustdatasleuth"><span>@plust/datasleuth</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#key-features"><span>Key <wbr/>Features</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#usage-examples"><span>Usage <wbr/>Examples</span></a></li><li><ul><li><a href="#basic-research"><span>Basic <wbr/>Research</span></a></li><li><a href="#advanced-research"><span>Advanced <wbr/>Research</span></a></li><li><a href="#llm-integration-with-vercel-ai-sdk"><span>LLM <wbr/>Integration with <wbr/>Vercel <wbr/>AI <wbr/>SDK</span></a></li><li><a href="#parallel-research"><span>Parallel <wbr/>Research</span></a></li><li><a href="#agent-orchestration"><span>Agent <wbr/>Orchestration</span></a></li></ul></li><li><a href="#api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#core-functions"><span>Core <wbr/>Functions</span></a></li><li><ul><li><a href="#researchoptions"><span>research(options)</span></a></li></ul></li><li><a href="#pipeline-steps"><span>Pipeline <wbr/>Steps</span></a></li><li><ul><li><a href="#planoptions"><span>plan(options?)</span></a></li><li><a href="#searchweboptions"><span>search<wbr/>Web(options)</span></a></li><li><a href="#extractcontentoptions"><span>extract<wbr/>Content(options?)</span></a></li><li><a href="#factcheckoptions"><span>fact<wbr/>Check(options?)</span></a></li><li><a href="#analyzeoptions"><span>analyze(options?)</span></a></li><li><a href="#summarizeoptions"><span>summarize(options?)</span></a></li><li><a href="#evaluateoptions"><span>evaluate(options)</span></a></li><li><a href="#repeatuntilconditionstep-stepstorepeat-options"><span>repeat<wbr/>Until(condition<wbr/>Step, steps<wbr/>To<wbr/>Repeat, options?)</span></a></li><li><a href="#paralleloptions"><span>parallel(options)</span></a></li><li><a href="#trackoptions"><span>track(options)</span></a></li><li><a href="#orchestrateoptions"><span>orchestrate(options)</span></a></li><li><a href="#transformoptions"><span>transform(options?)</span></a></li></ul></li><li><a href="#utilities"><span>Utilities</span></a></li><li><ul><li><a href="#resultmerger"><span>Result<wbr/>Merger</span></a></li></ul></li></ul></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#troubleshooting"><span>Troubleshooting</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/Jacques2Marais/datasleuth" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/@plust/datasleuth" class="tsd-nav-link">npm</a></nav><nav class="tsd-navigation"><a href="modules.html">@plust/datasleuth - v0.2.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
